Что такое статичные методы класса (static)? \
Какие статичные методы имеет Promise?


### **Что такое статичные методы класса (static)?**

**Статичные методы** (или `static` методы) — это методы, которые принадлежат самому классу, а не его экземплярам. В JavaScript статичные методы объявляются с помощью ключевого слова `static` и вызываются через сам класс, а не через его объекты.

---

### **Основные особенности статичных методов:**

1. **Принадлежат классу**: Вы не можете вызывать статичные методы через экземпляр класса.
    - Пример:
      ```javascript
      class Example {
          static greet() {
              return "Hello!";
          }
      }
 
      console.log(Example.greet()); // "Hello!"
      const obj = new Example();
      console.log(obj.greet()); // Ошибка!
      ```

2. **Используются для логики, связанной с классом в целом**: Обычно привязаны к логике или операциям, которые не зависят от конкретного состояния экземпляров.

3. **Пример применения**:
    - Статичные методы часто содержат утилитарную функциональность (например, преобразования данных, генерация уникальных идентификаторов и т.д.).
    - Часто используются для построения вспомогательных методов на уровне класса.

4. **Внутри статичных методов**:
    - Вы не можете напрямую обращаться к свойствам экземпляра или использовать методы, не объявленные как статичные.
    - Однако, вы можете обратиться к самому классу через `this`.

---

### **Пример:**
```javascript
class MathHelper {
    static add(a, b) {
        return a + b;
    }
}

console.log(MathHelper.add(2, 3)); // 5
```

---

### **Статичные методы класса `Promise`**

Экземпляры класса `Promise` имеют методы, такие как `.then()`, `.catch()`, `.finally()`, которые привязаны к конкретным промисам. Однако сам класс `Promise` также имеет несколько **статичных методов**, которые используются для создания, управления или работы с несколькими промисами.

Вот полный список основных статичных методов класса `Promise`:

---

### **1. `Promise.all(iterable)`**
Возвращает один промис, который выполняется, когда все промисы из переданного массива (или любого итерируемого объекта) завершены. Если хотя бы один из промисов завершается с ошибкой, возвращённый промис отклоняется с этой ошибкой.

- **Пример:**
  ```javascript
  const promise1 = Promise.resolve(3);
  const promise2 = 42;
  const promise3 = new Promise((resolve) => setTimeout(resolve, 100, 'foo'));

  Promise.all([promise1, promise2, promise3]).then((values) => {
      console.log(values); // [3, 42, "foo"]
  });
  ```

---

### **2. `Promise.allSettled(iterable)`**
Возвращает промис, который выполняется, когда все переданные промисы завершены (независимо от их состояния: выполнены или отклонены). Результат — массив объектов с полями:
- `{ status: "fulfilled", value }`, если промис выполнен;
- `{ status: "rejected", reason }`, если промис отклонён.

- **Пример:**
  ```javascript
  const promise1 = Promise.resolve(10);
  const promise2 = Promise.reject("Error");
  const promise3 = new Promise((resolve) => setTimeout(resolve, 100, "Done"));

  Promise.allSettled([promise1, promise2, promise3]).then((results) => {
      console.log(results);
      // [
      //   { status: 'fulfilled', value: 10 },
      //   { status: 'rejected', reason: 'Error' },
      //   { status: 'fulfilled', value: 'Done' }
      // ]
  });
  ```

---

### **3. `Promise.race(iterable)`**
Возвращает первый промис, который завершился (независимо от результата: выполнен или отклонён).

- **Пример:**
  ```javascript
  const promise1 = new Promise((resolve) => setTimeout(resolve, 500, "Slow"));
  const promise2 = new Promise((resolve) => setTimeout(resolve, 100, "Fast"));

  Promise.race([promise1, promise2]).then((result) => {
      console.log(result); // "Fast"
  });
  ```

---

### **4. `Promise.any(iterable)`**
Возвращает первый **успешно выполненный промис**. Если все промисы отклонены, возвращает ошибку `AggregateError`, содержащую список всех ошибок.

- **Пример:**
  ```javascript
  const promise1 = Promise.reject("Error 1");
  const promise2 = Promise.reject("Error 2");
  const promise3 = Promise.resolve("Success");

  Promise.any([promise1, promise2, promise3]).then((result) => {
      console.log(result); // "Success"
  }).catch((error) => {
      console.error(error);
  });
  ```

---

### **5. `Promise.resolve(value)`**
Возвращает промис, который выполнен с переданным значением. Если аргумент уже является промисом, он будет возвращён без изменений.

- **Пример:**
  ```javascript
  const promise = Promise.resolve(42);

  promise.then((value) => {
      console.log(value); // 42
  });
  ```

---

### **6. `Promise.reject(reason)`**
Возвращает промис, который отклонён с указанной причиной.

- **Пример:**
  ```javascript
  const promise = Promise.reject("Something went wrong");

  promise.catch((error) => {
      console.error(error); // "Something went wrong"
  });
  ```

---

### **Обобщение: статичные методы Promise**

| Метод                | Описание                                                                 |
|----------------------|-------------------------------------------------------------------------|
| `Promise.all`        | Ждёт завершения всех промисов (в случае ошибки — отклоняет результат).   |
| `Promise.allSettled` | Ждёт завершения всех промисов, возвращая их состояние.                  |
| `Promise.race`       | Возвращает первый завершённый промис (успешный или отклонённый).         |
| `Promise.any`        | Ждёт первого выполненного промиса (игнорирует отклонённые).              |
| `Promise.resolve`    | Возвращает выполненный промис с указанным значением.                    |
| `Promise.reject`     | Возвращает отклонённый промис с указанной причиной.                     |

---

### **Когда использовать статичные методы Promise?**

- **`Promise.all`**: когда нужно дождаться выполнения всех промисов.
    - Например: загрузка данных с нескольких API.
- **`Promise.allSettled`**: чтобы обработать все завершённые результаты, даже если некоторые из них неудачны.
    - Например: анализ всех записей в базе, невзирая на ошибки в отдельных данных.
- **`Promise.race`**: когда интересует результат наиболее быстрого выполнения.
    - Например: выбор наименее загруженного веб-сервера.
- **`Promise.any`**: если нужно получить первый успешный результат.
    - Например: проверка доступности хотя бы одного сервиса.
- **`Promise.resolve/reject`**: удобно при создании тестируемого или синтетического поведения вашей программы.

